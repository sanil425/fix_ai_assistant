:root{
  --bg:#0e1116; --panel:#151A22; --border:#232B36;
  --text:#E8EDF3; --muted:#8FA3BF; --accent:#9EE37D;
  --radius:14px; --space:14px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --sans: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family:var(--sans);background:var(--bg);color:var(--text)}
button,input{font:inherit}
.container{display:flex;min-height:100vh}
.sidebar{
  width:270px; background:var(--panel); border-right:1px solid var(--border);
  padding:20px; display:flex; flex-direction:column; gap:12px;
  position:sticky; top:0; height:100vh; overflow-y:auto;
}

/* Desktop vs Mobile sidebars */
.sidebar.desktop { display:flex; }
.sidebar.mobile  { display:flex; width:85%; max-width:320px; height:100vh; }

.mobile-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45);
  display: flex; align-items: stretch; justify-content: flex-start;
  z-index: 50;
}

/* Header toggle visibility */
.toggle{ display:none; }

/* Responsive rules */
@media (max-width: 900px){
  .sidebar.desktop{ display:none; }
  .toggle{ display:inline-flex; }
  .bubble{ max-width:88%; }
}

@media (min-width: 901px){
  .sidebar.mobile, .mobile-overlay{ display:none; }
  .toggle{ display:none; }
}
.brand{font-weight:600; opacity:.95}
.section-title{font-size:.85rem; color:var(--muted); letter-spacing:.02em; margin-bottom:8px}
.card{
  border:1px solid var(--border); border-radius:var(--radius);
  background:rgba(255,255,255,.02); padding:12px;
}
.list{display:flex; flex-direction:column; gap:8px}
.list button, .list a{
  text-align:left; background:transparent; border:1px solid transparent;
  color:var(--text); padding:10px; border-radius:10px; cursor:pointer;
}
.list button:hover, .list a:hover{background:#1b2230; border-color:var(--border)}
.link{color:var(--muted); text-decoration:none; font-size:.92rem}
.main{flex:1; display:flex; flex-direction:column; min-width:0}
.header{
  display:flex; align-items:center; justify-content:space-between;
  height:56px; padding:0 16px; border-bottom:1px solid var(--border);
  position:sticky; top:0; background:rgba(14,17,22,.6); backdrop-filter:blur(8px);
}
.header .left{display:flex; gap:10px; align-items:center}
.toggle{display:none}
.content{max-width:900px; width:100%; margin:0 auto; padding:16px; display:flex; flex-direction:column; gap:12px}
.spacer{height:8px}
.messages{flex:1; overflow:auto; display:flex; flex-direction:column; gap:12px; padding:12px}
.bubble{
  max-width:72%; padding:12px 14px; border-radius:14px; line-height:1.45;
  border:1px solid var(--border); background:#161c26;
}
.bubble.user{margin-left:auto; background:#e8fdf1; color:#0a100d; border-color:#cdebd9}
.meta{font-size:.75rem; color:var(--muted); margin-bottom:6px}
.inputbar{padding:12px; border-top:1px solid var(--border); background:rgba(0,0,0,.15)}
.form{display:flex; gap:10px}
.textbox{
  flex:1; padding:12px; border-radius:12px; border:1px solid var(--border);
  background:var(--panel); color:var(--text); outline:none;
}
.textbox:focus{border-color:#33465f}
.send{padding:12px 16px; border-radius:12px; border:1px solid var(--border); background:#f8fafc; cursor:pointer}
.send:hover{filter:brightness(.96)}

/* Code block and copy button styles */
.code-block-container {
  position: relative;
  margin: 8px 0;
}

.code-block {
  background: rgba(0,0,0,0.3);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 12px;
  overflow-x: auto;
  font-family: var(--mono);
  font-size: 0.9rem;
  line-height: 1.4;
}

.copy-button {
  position: absolute;
  top: 8px;
  right: 8px;
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 4px 8px;
  font-size: 0.75rem;
  cursor: pointer;
  opacity: 0.8;
  transition: opacity 0.2s;
}

.copy-button:hover {
  opacity: 1;
  background: var(--accent);
  color: var(--bg);
}

.inline-code {
  background: rgba(0,0,0,0.2);
  padding: 2px 4px;
  border-radius: 3px;
  font-family: var(--mono);
  font-size: 0.9em;
}
@media (max-width: 768px){
  .sidebar.desktop-only{display:none}
  .toggle{display:inline-flex}
  .bubble{max-width:88%}
}

/* Remove any previous debug helpers */
.sidebar-debug, .debug, .sidebar .debug-text { display:none !important; }

/* Accordion styles */
.sidebar-accordion{
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px;
  margin-bottom: 16px;
  background: rgba(255,255,255,0.02);
}

.accordion-summary{
  padding: 12px 16px;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  user-select: none;
  border-bottom: 1px solid rgba(255,255,255,0.05);
  background: rgba(255,255,255,0.03);
  border-radius: 8px 8px 0 0;
}

.accordion-summary:hover{
  background: rgba(255,255,255,0.05);
}

.accordion-summary::marker{
  color: var(--accent);
  font-size: 1.2em;
}

.sidebar-accordion .card{
  border: none;
  border-radius: 0 0 8px 8px;
  margin: 0;
  background: transparent;
}
